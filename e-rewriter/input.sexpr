(TpProg (TpModule (TpTask picorv32_pcpi_fast_mul (sharp (TpVarTp EXTRA_MUL_FFS (TpDim null) (Atom (Int 0))) (TpVarTp EXTRA_INSN_FFS (TpDim null) (Atom (Int 0))) (TpVarTp MUL_CLKGATE (TpDim null) (Atom (Int 0)))) (paras (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp clk (TpDim null) NullExp) (TpVarTp resetn (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp pcpi_valid (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp pcpi_insn (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp pcpi_rs1 (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp pcpi_rs2 (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp pcpi_wr (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp pcpi_rd (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp pcpi_wait (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp pcpi_ready (TpDim null) NullExp))))) (parameters null) (localparam null) (ilists null) (iolists null) (olists null) (sigset (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp instr_mul (TpDim null) NullExp) (TpVarTp instr_mulh (TpDim null) NullExp) (TpVarTp instr_mulhsu (TpDim null) NullExp) (TpVarTp instr_mulhu (TpDim null) NullExp)))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp instr_any_mul (TpDim null) (URor (Conc (Clist (TpConcList (Ele (Atom (Sym (Var instr_mul)))) (Ele (Atom (Sym (Var instr_mulh)))) (Ele (Atom (Sym (Var instr_mulhsu)))) (Ele (Atom (Sym (Var instr_mulhu)))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp instr_any_mulh (TpDim null) (URor (Conc (Clist (TpConcList (Ele (Atom (Sym (Var instr_mulh)))) (Ele (Atom (Sym (Var instr_mulhsu)))) (Ele (Atom (Sym (Var instr_mulhu)))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp instr_rs1_signed (TpDim null) (URor (Conc (Clist (TpConcList (Ele (Atom (Sym (Var instr_mulh)))) (Ele (Atom (Sym (Var instr_mulhsu)))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp instr_rs2_signed (TpDim null) (URor (Conc (Clist (TpConcList (Ele (Atom (Sym (Var instr_mulh)))))))))))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp shift_out (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 3)) (Atom (Int 0))) (sharp (TpVarTp active (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 32)) (Atom (Int 0))) (sharp (TpVarTp rs1 (TpDim null) NullExp) (TpVarTp rs2 (TpDim null) NullExp) (TpVarTp rs1_q (TpDim null) NullExp) (TpVarTp rs2_q (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 63)) (Atom (Int 0))) (sharp (TpVarTp rd (TpDim null) NullExp) (TpVarTp rd_q (TpDim null) NullExp)))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp pcpi_insn_valid (TpDim null) (And (And (Atom (Sym (Var pcpi_valid))) (Eq (Atom (Sym (Idx pcpi_insn (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 0)))))) (Atom (Num false 7 (Bin false 0110011))))) (Eq (Atom (Sym (Idx pcpi_insn (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 25)))))) (Atom (Num false 7 (Bin false 0000001))))))))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp pcpi_insn_valid_q (TpDim null) NullExp))))) (body (Always (TpEvent Star) (body (Block null (body (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mul)) (Atom (Int 0)) NoDE)))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mulh)) (Atom (Int 0)) NoDE)))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mulhsu)) (Atom (Int 0)) NoDE)))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mulhu)) (Atom (Int 0)) NoDE)))) (If (And (Atom (Sym (Var resetn))) (Cond (Atom (Sym (Var EXTRA_INSN_FFS))) (Atom (Sym (Var pcpi_insn_valid_q))) (Atom (Sym (Var pcpi_insn_valid))))) (Block null (body (Case (Atom (Sym (Idx pcpi_insn (TpExpList null) (RngC (Atom (Int 14)) (Atom (Int 12)))))) (TpCaseList (TpCase (TpCaseLblList (CaseLbl (Atom (Num false 3 (Bin false 000))))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mul)) (Atom (Int 1)) NoDE))))) (TpCase (TpCaseLblList (CaseLbl (Atom (Num false 3 (Bin false 001))))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mulh)) (Atom (Int 1)) NoDE))))) (TpCase (TpCaseLblList (CaseLbl (Atom (Num false 3 (Bin false 010))))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mulhsu)) (Atom (Int 1)) NoDE))))) (TpCase (TpCaseLblList (CaseLbl (Atom (Num false 3 (Bin false 011))))) (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr_mulhu)) (Atom (Int 1)) NoDE))))))))) NoElse))))) (Always (TpEvent (Posedge (TpVarRange clk Rng0))) (body (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var pcpi_insn_valid_q)) (Atom (Sym (Var pcpi_insn_valid))) NoDE)))) (If (Or (LNot (Atom (Sym (Var MUL_CLKGATE)))) (Atom (Sym (Idx active (TpExpList (Atom (Int 0))) Rng0)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs1_q)) (Atom (Sym (Var rs1))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs2_q)) (Atom (Sym (Var rs2))) NoDE)))))) NoElse) (If (Or (LNot (Atom (Sym (Var MUL_CLKGATE)))) (Atom (Sym (Idx active (TpExpList (Atom (Int 1))) Rng0)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rd)) (Mul (Funcall (SimpFunCall (Sfname Signed) (TpParaList (Pexp (Cond (Atom (Sym (Var EXTRA_MUL_FFS))) (Atom (Sym (Var rs1_q))) (Atom (Sym (Var rs1)))))))) (Funcall (SimpFunCall (Sfname Signed) (TpParaList (Pexp (Cond (Atom (Sym (Var EXTRA_MUL_FFS))) (Atom (Sym (Var rs2_q))) (Atom (Sym (Var rs2))))))))) NoDE)))))) NoElse) (If (Or (LNot (Atom (Sym (Var MUL_CLKGATE)))) (Atom (Sym (Idx active (TpExpList (Atom (Int 2))) Rng0)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rd_q)) (Atom (Sym (Var rd))) NoDE)))))) NoElse))))) (Always (TpEvent (Posedge (TpVarRange clk Rng0))) (body (Block null (body (If (And (Atom (Sym (Var instr_any_mul))) (LNot (Cond (Atom (Sym (Var EXTRA_MUL_FFS))) (Atom (Sym (Idx active (TpExpList null) (RngC (Atom (Int 3)) (Atom (Int 0)))))) (Atom (Sym (Idx active (TpExpList null) (RngC (Atom (Int 1)) (Atom (Int 0))))))))) (Block null (body (If (Atom (Sym (Var instr_rs1_signed))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs1)) (Funcall (SimpFunCall (Sfname Signed) (TpParaList (Svar pcpi_rs1)))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs1)) (Funcall (SimpFunCall (Sfname Unsigned) (TpParaList (Svar pcpi_rs1)))) NoDE))))) (If (Atom (Sym (Var instr_rs2_signed))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs2)) (Funcall (SimpFunCall (Sfname Signed) (TpParaList (Svar pcpi_rs2)))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs2)) (Funcall (SimpFunCall (Sfname Unsigned) (TpParaList (Svar pcpi_rs2)))) NoDE))))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx active (TpExpList (Atom (Int 0))) Rng0)) (Atom (Int 1)) NoDE)))))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx active (TpExpList (Atom (Int 0))) Rng0)) (Atom (Int 0)) NoDE))))))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx active (TpExpList null) (RngC (Atom (Int 3)) (Atom (Int 1))))) (Atom (Sym (Var active))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var shift_out)) (Atom (Sym (Var instr_any_mulh))) NoDE)))) (If (LNot (Atom (Sym (Var resetn)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var active)) (Atom (Int 0)) NoDE)))) NoElse))))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var pcpi_wr)) (Atom (Sym (Idx active (TpExpList (Cond (Atom (Sym (Var EXTRA_MUL_FFS))) (Atom (Int 3)) (Atom (Int 1)))) Rng0))) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var pcpi_wait)) (Atom (Int 0)) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var pcpi_ready)) (Atom (Sym (Idx active (TpExpList (Cond (Atom (Sym (Var EXTRA_MUL_FFS))) (Atom (Int 3)) (Atom (Int 1)))) Rng0))) NoDE))))) (macros null))))